<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>2. Programming with R | Reproducible and reusable social science with R: a field guide</title>
  <meta name="description" content="This page contains tips to make your R code reproducible." />
  <meta name="generator" content="bookdown 0.42 and GitBook 2.6.7" />

  <meta property="og:title" content="2. Programming with R | Reproducible and reusable social science with R: a field guide" />
  <meta property="og:type" content="book" />
  
  <meta property="og:description" content="This page contains tips to make your R code reproducible." />
  <meta name="github-repo" content="kleuveld/r_cheatsheet" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="2. Programming with R | Reproducible and reusable social science with R: a field guide" />
  
  <meta name="twitter:description" content="This page contains tips to make your R code reproducible." />
  

<meta name="author" content="Koen" />


<meta name="date" content="2026-02-19" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="reproducible-workflows.html"/>
<link rel="next" href="declaredesign.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>
<link href="libs/tabwid-1.1.3/tabwid.css" rel="stylesheet" />
<script src="libs/tabwid-1.1.3/tabwid.js"></script>
<link href="libs/htmltools-fill-0.5.8.1/fill.css" rel="stylesheet" />
<script src="libs/htmlwidgets-1.6.4/htmlwidgets.js"></script>
<link href="libs/leaflet-1.3.1/leaflet.css" rel="stylesheet" />
<script src="libs/leaflet-1.3.1/leaflet.js"></script>
<link href="libs/leafletfix-1.0.0/leafletfix.css" rel="stylesheet" />
<script src="libs/proj4-2.6.2/proj4.min.js"></script>
<script src="libs/Proj4Leaflet-1.0.1/proj4leaflet.js"></script>
<link href="libs/rstudio_leaflet-1.3.1/rstudio_leaflet.css" rel="stylesheet" />
<script src="libs/leaflet-binding-2.2.2/leaflet.js"></script>


<style type="text/css">
html { -webkit-text-size-adjust: 100%; }
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
  
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Reproducible and reusable social science with R: a field guide</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Introduction</a>
<ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#about"><i class="fa fa-check"></i>About</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#setup"><i class="fa fa-check"></i>Setting up</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="reproducible-workflows.html"><a href="reproducible-workflows.html"><i class="fa fa-check"></i>1. Reproducible Workflows</a>
<ul>
<li class="chapter" data-level="" data-path="reproducible-workflows.html"><a href="reproducible-workflows.html#introduction-1"><i class="fa fa-check"></i>Introduction</a></li>
<li class="chapter" data-level="" data-path="reproducible-workflows.html"><a href="reproducible-workflows.html#projects"><i class="fa fa-check"></i>Projects</a>
<ul>
<li class="chapter" data-level="" data-path="reproducible-workflows.html"><a href="reproducible-workflows.html#here"><i class="fa fa-check"></i>Here</a></li>
<li class="chapter" data-level="" data-path="reproducible-workflows.html"><a href="reproducible-workflows.html#using-machine-specific-paths"><i class="fa fa-check"></i>Using machine-specific paths</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="reproducible-workflows.html"><a href="reproducible-workflows.html#renv"><i class="fa fa-check"></i>renv</a>
<ul>
<li class="chapter" data-level="" data-path="reproducible-workflows.html"><a href="reproducible-workflows.html#starting-a-project-with-renv"><i class="fa fa-check"></i>Starting a project with Renv</a></li>
<li class="chapter" data-level="" data-path="reproducible-workflows.html"><a href="reproducible-workflows.html#installing-new-packages-with-renv"><i class="fa fa-check"></i>Installing new packages with Renv</a></li>
<li class="chapter" data-level="" data-path="reproducible-workflows.html"><a href="reproducible-workflows.html#restoring-a-project"><i class="fa fa-check"></i>Restoring a project</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="" data-path="programming.html"><a href="programming.html"><i class="fa fa-check"></i>2. Programming with R</a>
<ul>
<li class="chapter" data-level="" data-path="programming.html"><a href="programming.html#loops"><i class="fa fa-check"></i>Loops</a></li>
<li class="chapter" data-level="" data-path="programming.html"><a href="programming.html#functions"><i class="fa fa-check"></i>Functions</a>
<ul>
<li class="chapter" data-level="" data-path="programming.html"><a href="programming.html#basic-functions"><i class="fa fa-check"></i>Basic Functions</a></li>
<li class="chapter" data-level="" data-path="programming.html"><a href="programming.html#functions-and-the-tidyverse"><i class="fa fa-check"></i>Functions and the tidyverse</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="programming.html"><a href="programming.html#map"><i class="fa fa-check"></i>Map()</a></li>
<li class="chapter" data-level="" data-path="programming.html"><a href="programming.html#other-variants-of-map"><i class="fa fa-check"></i>Other variants of <code>map()</code></a></li>
<li class="chapter" data-level="" data-path="programming.html"><a href="programming.html#making-functions-re-usable-with-box"><i class="fa fa-check"></i>Making functions re-usable with box</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="declaredesign.html"><a href="declaredesign.html"><i class="fa fa-check"></i>3. Power Analysis using DeclareDesign</a>
<ul>
<li class="chapter" data-level="" data-path="declaredesign.html"><a href="declaredesign.html#simple-power-calculation"><i class="fa fa-check"></i>Simple Power Calculation</a>
<ul>
<li class="chapter" data-level="" data-path="declaredesign.html"><a href="declaredesign.html#loading-data"><i class="fa fa-check"></i>Loading data</a></li>
<li class="chapter" data-level="" data-path="declaredesign.html"><a href="declaredesign.html#declare-design"><i class="fa fa-check"></i>Declare Design</a></li>
<li class="chapter" data-level="" data-path="declaredesign.html"><a href="declaredesign.html#diagnosing-design-and-calculating-power"><i class="fa fa-check"></i>Diagnosing Design and calculating power</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="declaredesign.html"><a href="declaredesign.html#dif-in-diff"><i class="fa fa-check"></i>Dif in diff</a></li>
<li class="chapter" data-level="" data-path="declaredesign.html"><a href="declaredesign.html#matching"><i class="fa fa-check"></i>Matching</a>
<ul>
<li class="chapter" data-level="" data-path="declaredesign.html"><a href="declaredesign.html#declare-design-1"><i class="fa fa-check"></i>Declare Design</a></li>
<li class="chapter" data-level="" data-path="declaredesign.html"><a href="declaredesign.html#checking-balance"><i class="fa fa-check"></i>Checking balance</a></li>
<li class="chapter" data-level="" data-path="declaredesign.html"><a href="declaredesign.html#bias"><i class="fa fa-check"></i>Bias</a></li>
<li class="chapter" data-level="" data-path="declaredesign.html"><a href="declaredesign.html#power"><i class="fa fa-check"></i>Power</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="" data-path="datawrangling.html"><a href="datawrangling.html"><i class="fa fa-check"></i>4. Data Cleaning</a>
<ul>
<li class="chapter" data-level="" data-path="datawrangling.html"><a href="datawrangling.html#the-basic-pattern"><i class="fa fa-check"></i>The basic pattern</a></li>
<li class="chapter" data-level="" data-path="datawrangling.html"><a href="datawrangling.html#using-plots-to-identify-data-issues-reproducibly"><i class="fa fa-check"></i>Using plots to identify data issues reproducibly</a></li>
<li class="chapter" data-level="" data-path="datawrangling.html"><a href="datawrangling.html#dealing-with-multiple-levels-of-data"><i class="fa fa-check"></i>Dealing with multiple levels of data</a>
<ul>
<li class="chapter" data-level="" data-path="datawrangling.html"><a href="datawrangling.html#pivoting-long-to-wide"><i class="fa fa-check"></i>Pivoting long to wide</a></li>
<li class="chapter" data-level="" data-path="datawrangling.html"><a href="datawrangling.html#pivoting-wide-to-long"><i class="fa fa-check"></i>Pivoting wide to long</a></li>
<li class="chapter" data-level="" data-path="datawrangling.html"><a href="datawrangling.html#joining-or-merging-data"><i class="fa fa-check"></i>Joining (or merging) data</a></li>
<li class="chapter" data-level="" data-path="datawrangling.html"><a href="datawrangling.html#summarizing-over-groups-or-collapsing-data"><i class="fa fa-check"></i>Summarizing over groups (or collapsing data)</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="datawrangling.html"><a href="datawrangling.html#editing-many-variables-at-once"><i class="fa fa-check"></i>Editing many variables at once</a>
<ul>
<li class="chapter" data-level="" data-path="datawrangling.html"><a href="datawrangling.html#across"><i class="fa fa-check"></i>across(): doing the same operations on multiple variables using across</a></li>
<li class="chapter" data-level="" data-path="datawrangling.html"><a href="datawrangling.html#converting-all-yesno-factors-to-dummies"><i class="fa fa-check"></i>Converting all yes/no factors to dummies</a></li>
<li class="chapter" data-level="" data-path="datawrangling.html"><a href="datawrangling.html#pivoting"><i class="fa fa-check"></i>Pivoting</a></li>
<li class="chapter" data-level="" data-path="datawrangling.html"><a href="datawrangling.html#using-many-variables-as-inputs"><i class="fa fa-check"></i>Using many variables as inputs</a></li>
<li class="chapter" data-level="" data-path="datawrangling.html"><a href="datawrangling.html#renaming-many-variables"><i class="fa fa-check"></i>Renaming many variables</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="datawrangling.html"><a href="datawrangling.html#seperate_longer"><i class="fa fa-check"></i>Splitting multi-response variable into dummies</a></li>
<li class="chapter" data-level="" data-path="datawrangling.html"><a href="datawrangling.html#cleaning-rmd"><i class="fa fa-check"></i>Structure of a cleaning Rmarkdown doc with multi-level data</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="reporting.html"><a href="reporting.html"><i class="fa fa-check"></i>5. Estimating and reporting</a>
<ul>
<li class="chapter" data-level="" data-path="reporting.html"><a href="reporting.html#generating-some-fake-data"><i class="fa fa-check"></i>Generating some fake data</a></li>
<li class="chapter" data-level="" data-path="reporting.html"><a href="reporting.html#making-a-table-of-summary-statistics"><i class="fa fa-check"></i>Making a table of summary statistics</a>
<ul>
<li class="chapter" data-level="" data-path="reporting.html"><a href="reporting.html#using-modelsummary-and-flextable"><i class="fa fa-check"></i>Using modelsummary and flextable</a></li>
<li class="chapter" data-level="" data-path="reporting.html"><a href="reporting.html#balance-table"><i class="fa fa-check"></i>Balance Table</a></li>
<li class="chapter" data-level="" data-path="reporting.html"><a href="reporting.html#advanced-using-only-flextable"><i class="fa fa-check"></i>Advanced: Using only Flextable</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="reporting.html"><a href="reporting.html#regression-tables"><i class="fa fa-check"></i>Regression Tables</a>
<ul>
<li class="chapter" data-level="" data-path="reporting.html"><a href="reporting.html#simple-regression"><i class="fa fa-check"></i>Simple regression</a></li>
<li class="chapter" data-level="" data-path="reporting.html"><a href="reporting.html#robust-standard-errors-and-custom-glance-methods"><i class="fa fa-check"></i>Robust standard errors, and custom glance methods</a></li>
<li class="chapter" data-level="" data-path="reporting.html"><a href="reporting.html#probit-with-cluster-robust-ses"><i class="fa fa-check"></i>Probit with cluster robust SEs</a></li>
<li class="chapter" data-level="" data-path="reporting.html"><a href="reporting.html#marginal-effects"><i class="fa fa-check"></i>Marginal Effects</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="reporting.html"><a href="reporting.html#plots"><i class="fa fa-check"></i>Plots</a>
<ul>
<li class="chapter" data-level="" data-path="reporting.html"><a href="reporting.html#faceting"><i class="fa fa-check"></i>Faceting</a></li>
<li class="chapter" data-level="" data-path="reporting.html"><a href="reporting.html#stacked-bar-plots-in-wur-style"><i class="fa fa-check"></i>Stacked bar plots in WUR style</a></li>
<li class="chapter" data-level="" data-path="reporting.html"><a href="reporting.html#lollipop-plot"><i class="fa fa-check"></i>Lollipop plot</a></li>
<li class="chapter" data-level="" data-path="reporting.html"><a href="reporting.html#maps"><i class="fa fa-check"></i>Maps</a></li>
</ul></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Reproducible and reusable social science with R: a field guide</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="programming" class="section level1 hasAnchor">
<h1>2. Programming with R<a href="programming.html#programming" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<p>Before diving into specific R techniques about managing social science research,
this chapter will cover some general programming concepts that will help you
make your R code more reusable.
These techniques help you move away from the specifics of your data,
and make generalizable solutions that you can then reapply to other data sets.
This also prevents mistakes,
where you copy-paste code and fail to make the necessary changes.
But perhaps most importantly, it saves you time: these concepts allow you to do
a lot of work with just a few simple building blocks of code.</p>
<p>This chapter will cover ways to iterate code
(using either loops or the <code>map()</code> function),
functions (which will let you easily reuse code snippets you often need),
and making code more reusable with the <code>box</code> package.</p>
<div id="loops" class="section level2 hasAnchor">
<h2>Loops<a href="programming.html#loops" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Loops are a fundamental programming concept that allow you to repeat code multiple times without duplicating it. In R, a loop has the following structure:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="programming.html#cb3-1" tabindex="-1"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">4</span>){</span>
<span id="cb3-2"><a href="programming.html#cb3-2" tabindex="-1"></a>  <span class="fu">print</span>(i)</span>
<span id="cb3-3"><a href="programming.html#cb3-3" tabindex="-1"></a>}</span></code></pre></div>
<pre><code>## [1] 1
## [1] 2
## [1] 3
## [1] 4</code></pre>
<p>This consists of two parts:</p>
<ul>
<li>The <code>for</code> statement, which tells R to start a loop.</li>
<li>The code block within the curly braces <code>{}</code> that contains the code to be repeated.</li>
</ul>
<p>The for statement should be read as: “for each element in the sequence 1 to 4,
assign that element to the variable <code>i</code>, and then run the code block”.
Therefore, this code is equivalent to:</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="programming.html#cb5-1" tabindex="-1"></a><span class="fu">print</span>(<span class="dv">1</span>)</span>
<span id="cb5-2"><a href="programming.html#cb5-2" tabindex="-1"></a><span class="fu">print</span>(<span class="dv">2</span>)</span>
<span id="cb5-3"><a href="programming.html#cb5-3" tabindex="-1"></a><span class="fu">print</span>(<span class="dv">3</span>)</span>
<span id="cb5-4"><a href="programming.html#cb5-4" tabindex="-1"></a><span class="fu">print</span>(<span class="dv">4</span>)</span></code></pre></div>
<pre><code>## [1] 1
## [1] 2
## [1] 3
## [1] 4</code></pre>
<p>But it’s much easier to maintain! Imagine having to do 86 iterations: you would
need to copy paste the code 85 times every time you want to update something.
Using loops, you don’t need to copy-paste a thing, leading to fewer errors.</p>
<p>While loops can be a perfectly fine way of doing repeated work, most R
programmers prefer not to use loops, but instead use functions such as
<code>lapply()</code> and <code>map()</code>.
However, for this you will need to know how to write functions.</p>
</div>
<div id="functions" class="section level2 hasAnchor">
<h2>Functions<a href="programming.html#functions" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="basic-functions" class="section level3 hasAnchor">
<h3>Basic Functions<a href="programming.html#basic-functions" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>A function is an R object that’s essentially a shortcut to run a bit of code.
Usually, a function takes an argument (the input), and returns an output. The
argument is always provided within parentheses. The <code>sqrt()</code> function, for
example, takes a number as its argument and returns the square root of that number.</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="programming.html#cb7-1" tabindex="-1"></a><span class="fu">sqrt</span>(<span class="dv">4</span>)</span></code></pre></div>
<pre><code>## [1] 2</code></pre>
<p>The beauty of functions is that they allow you to define a set of operations in
one place, and re-use it as often as you want. If you then need to update the
operations, all you need to do is update the function, instead of hunting down
every instance of the operations throughout your script.</p>
<p>Let’s say I have a report, where I run the same model many times,
each time with different variables:</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="programming.html#cb9-1" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb9-2"><a href="programming.html#cb9-2" tabindex="-1"></a></span>
<span id="cb9-3"><a href="programming.html#cb9-3" tabindex="-1"></a>df <span class="ot">&lt;-</span> <span class="fu">tibble</span>(<span class="at">y =</span> <span class="fu">rnorm</span>(<span class="dv">50</span>),<span class="at">x1 =</span> <span class="fu">rnorm</span>(<span class="dv">50</span>),<span class="at">x2 =</span> <span class="fu">rnorm</span>(<span class="dv">50</span>), <span class="at">x3 =</span> <span class="fu">rnorm</span>(<span class="dv">50</span>))</span>
<span id="cb9-4"><a href="programming.html#cb9-4" tabindex="-1"></a></span>
<span id="cb9-5"><a href="programming.html#cb9-5" tabindex="-1"></a><span class="co"># lots of code in between...</span></span>
<span id="cb9-6"><a href="programming.html#cb9-6" tabindex="-1"></a></span>
<span id="cb9-7"><a href="programming.html#cb9-7" tabindex="-1"></a><span class="fu">lm</span>(y <span class="sc">~</span> x1, <span class="at">data =</span> df)</span>
<span id="cb9-8"><a href="programming.html#cb9-8" tabindex="-1"></a></span>
<span id="cb9-9"><a href="programming.html#cb9-9" tabindex="-1"></a><span class="co"># lots of code in between...</span></span>
<span id="cb9-10"><a href="programming.html#cb9-10" tabindex="-1"></a></span>
<span id="cb9-11"><a href="programming.html#cb9-11" tabindex="-1"></a><span class="fu">lm</span>(y <span class="sc">~</span> x2, <span class="at">data =</span> df)</span>
<span id="cb9-12"><a href="programming.html#cb9-12" tabindex="-1"></a></span>
<span id="cb9-13"><a href="programming.html#cb9-13" tabindex="-1"></a><span class="co"># lots of code in between...</span></span>
<span id="cb9-14"><a href="programming.html#cb9-14" tabindex="-1"></a></span>
<span id="cb9-15"><a href="programming.html#cb9-15" tabindex="-1"></a><span class="fu">lm</span>(y <span class="sc">~</span> x3, <span class="at">data =</span> df)</span>
<span id="cb9-16"><a href="programming.html#cb9-16" tabindex="-1"></a></span>
<span id="cb9-17"><a href="programming.html#cb9-17" tabindex="-1"></a><span class="co"># lots of code in between...</span></span>
<span id="cb9-18"><a href="programming.html#cb9-18" tabindex="-1"></a></span>
<span id="cb9-19"><a href="programming.html#cb9-19" tabindex="-1"></a><span class="fu">lm</span>(y <span class="sc">~</span> x1 <span class="sc">+</span> x2 <span class="sc">+</span> x3 , <span class="at">data =</span> df)</span></code></pre></div>
<pre><code>## 
## Call:
## lm(formula = y ~ x1, data = df)
## 
## Coefficients:
## (Intercept)           x1  
##     0.03265      0.03967  
## 
## 
## Call:
## lm(formula = y ~ x2, data = df)
## 
## Coefficients:
## (Intercept)           x2  
##     0.01231     -0.09216  
## 
## 
## Call:
## lm(formula = y ~ x3, data = df)
## 
## Coefficients:
## (Intercept)           x3  
##    0.021026     0.007116  
## 
## 
## Call:
## lm(formula = y ~ x1 + x2 + x3, data = df)
## 
## Coefficients:
## (Intercept)           x1           x2           x3  
##    0.025104     0.046257    -0.095309    -0.001579</code></pre>
<p>If I now want to slightly change the model (e.g. use robust standard errors),
I would have to find the places the model is used, and change it each time.
Instead, I can put the model code in a function:</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="programming.html#cb11-1" tabindex="-1"></a>my_model <span class="ot">&lt;-</span> <span class="cf">function</span>(independent_variable){</span>
<span id="cb11-2"><a href="programming.html#cb11-2" tabindex="-1"></a></span>
<span id="cb11-3"><a href="programming.html#cb11-3" tabindex="-1"></a>  results <span class="ot">&lt;-</span> <span class="fu">lm</span>(<span class="at">formula =</span> <span class="fu">reformulate</span>(independent_variable, <span class="at">response =</span> <span class="st">&quot;y&quot;</span>), <span class="at">data =</span> df)</span>
<span id="cb11-4"><a href="programming.html#cb11-4" tabindex="-1"></a></span>
<span id="cb11-5"><a href="programming.html#cb11-5" tabindex="-1"></a>  <span class="fu">return</span>(results)</span>
<span id="cb11-6"><a href="programming.html#cb11-6" tabindex="-1"></a>}</span></code></pre></div>
<p>This has the following structure:
- The <code>function</code> statement tells R to create a function.
It also list the arguments the function takes.
In this case just one: <code>independent_variable</code>,
which should be passed a string (that <code>reformulate()</code> can convert to a formula).
- The code block within the curly braces <code>{}</code> contains the code that will be run
when the function is called. It ends with the <code>return()</code> function,
which tells R what to return as output of the function.
This will be printed to to the console, or can be assigned to an object.</p>
<p>I can then run my model four times:</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb12-1"><a href="programming.html#cb12-1" tabindex="-1"></a><span class="fu">my_model</span>(<span class="st">&quot;x1&quot;</span>)</span>
<span id="cb12-2"><a href="programming.html#cb12-2" tabindex="-1"></a></span>
<span id="cb12-3"><a href="programming.html#cb12-3" tabindex="-1"></a><span class="co"># lots of code in between...</span></span>
<span id="cb12-4"><a href="programming.html#cb12-4" tabindex="-1"></a></span>
<span id="cb12-5"><a href="programming.html#cb12-5" tabindex="-1"></a><span class="fu">my_model</span>(<span class="st">&quot;x2&quot;</span>)</span>
<span id="cb12-6"><a href="programming.html#cb12-6" tabindex="-1"></a></span>
<span id="cb12-7"><a href="programming.html#cb12-7" tabindex="-1"></a><span class="co"># lots of code in between...</span></span>
<span id="cb12-8"><a href="programming.html#cb12-8" tabindex="-1"></a></span>
<span id="cb12-9"><a href="programming.html#cb12-9" tabindex="-1"></a><span class="fu">my_model</span>(<span class="st">&quot;x3&quot;</span>)</span>
<span id="cb12-10"><a href="programming.html#cb12-10" tabindex="-1"></a></span>
<span id="cb12-11"><a href="programming.html#cb12-11" tabindex="-1"></a><span class="co"># lots of code in between...</span></span>
<span id="cb12-12"><a href="programming.html#cb12-12" tabindex="-1"></a></span>
<span id="cb12-13"><a href="programming.html#cb12-13" tabindex="-1"></a><span class="fu">my_model</span>(<span class="fu">c</span>(<span class="st">&quot;x1&quot;</span>,<span class="st">&quot;x2&quot;</span>,<span class="st">&quot;x3&quot;</span>))</span></code></pre></div>
<pre><code>## 
## Call:
## lm(formula = reformulate(independent_variable, response = &quot;y&quot;), 
##     data = df)
## 
## Coefficients:
## (Intercept)           x1  
##     0.03265      0.03967  
## 
## 
## Call:
## lm(formula = reformulate(independent_variable, response = &quot;y&quot;), 
##     data = df)
## 
## Coefficients:
## (Intercept)           x2  
##     0.01231     -0.09216  
## 
## 
## Call:
## lm(formula = reformulate(independent_variable, response = &quot;y&quot;), 
##     data = df)
## 
## Coefficients:
## (Intercept)           x3  
##    0.021026     0.007116  
## 
## 
## Call:
## lm(formula = reformulate(independent_variable, response = &quot;y&quot;), 
##     data = df)
## 
## Coefficients:
## (Intercept)           x1           x2           x3  
##    0.025104     0.046257    -0.095309    -0.001579</code></pre>
<p>I don’t need to touch these anymore if I want to change something in the model.
I only need to update the function definition.</p>
<p>Note that any variables we created in the function are kept within the function,
and you can’t access them later:</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb14-1"><a href="programming.html#cb14-1" tabindex="-1"></a>model <span class="ot">&lt;-</span> <span class="fu">my_model</span>(<span class="st">&quot;x3&quot;</span>)</span>
<span id="cb14-2"><a href="programming.html#cb14-2" tabindex="-1"></a></span>
<span id="cb14-3"><a href="programming.html#cb14-3" tabindex="-1"></a>results</span></code></pre></div>
<pre><code>## Error: object &#39;results&#39; not found</code></pre>
<p>This keeps your working environment nice and clean,
which again prevents problems.</p>
<p>Above I used the return function.
That was purely to to make it explicit what the output is for explanation purposes,
it is not actually needed.
Anything on the last line of the function that would normally be returned to the console,
is used a return value of the function:</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb16-1"><a href="programming.html#cb16-1" tabindex="-1"></a>my_model <span class="ot">&lt;-</span> <span class="cf">function</span>(independent_variable){</span>
<span id="cb16-2"><a href="programming.html#cb16-2" tabindex="-1"></a></span>
<span id="cb16-3"><a href="programming.html#cb16-3" tabindex="-1"></a>  <span class="fu">lm</span>(<span class="at">formula =</span> <span class="fu">reformulate</span>(independent_variable, <span class="at">response =</span> <span class="st">&quot;y&quot;</span>), <span class="at">data =</span> df)</span>
<span id="cb16-4"><a href="programming.html#cb16-4" tabindex="-1"></a></span>
<span id="cb16-5"><a href="programming.html#cb16-5" tabindex="-1"></a>}</span>
<span id="cb16-6"><a href="programming.html#cb16-6" tabindex="-1"></a></span>
<span id="cb16-7"><a href="programming.html#cb16-7" tabindex="-1"></a><span class="fu">my_model</span>(<span class="st">&quot;x1&quot;</span>)</span></code></pre></div>
<pre><code>## 
## Call:
## lm(formula = reformulate(independent_variable, response = &quot;y&quot;), 
##     data = df)
## 
## Coefficients:
## (Intercept)           x1  
##     0.03265      0.03967</code></pre>
</div>
<div id="functions-and-the-tidyverse" class="section level3 hasAnchor">
<h3>Functions and the tidyverse<a href="programming.html#functions-and-the-tidyverse" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Tidyverse can be a bit tricky when writing functions,
because the unquoted variable names often break stuff.</p>
<p>Let’s say I want to have standard scatter plots like this:</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb18-1"><a href="programming.html#cb18-1" tabindex="-1"></a>df <span class="sc">%&gt;%</span> </span>
<span id="cb18-2"><a href="programming.html#cb18-2" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">y =</span> y, <span class="at">x =</span> x1)) <span class="sc">+</span></span>
<span id="cb18-3"><a href="programming.html#cb18-3" tabindex="-1"></a>  <span class="fu">geom_point</span>()</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-9-1.png" width="672" /></p>
<p>But I don’t want to copy all that, so I make a function:</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb19-1"><a href="programming.html#cb19-1" tabindex="-1"></a>my_plot <span class="ot">&lt;-</span> <span class="cf">function</span>(x_variable){</span>
<span id="cb19-2"><a href="programming.html#cb19-2" tabindex="-1"></a>  df <span class="sc">%&gt;%</span></span>
<span id="cb19-3"><a href="programming.html#cb19-3" tabindex="-1"></a>    <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">y =</span> y, <span class="at">x =</span> x_variable)) <span class="sc">+</span></span>
<span id="cb19-4"><a href="programming.html#cb19-4" tabindex="-1"></a>    <span class="fu">geom_point</span>()</span>
<span id="cb19-5"><a href="programming.html#cb19-5" tabindex="-1"></a>}</span>
<span id="cb19-6"><a href="programming.html#cb19-6" tabindex="-1"></a></span>
<span id="cb19-7"><a href="programming.html#cb19-7" tabindex="-1"></a><span class="fu">my_plot</span>(x1)</span></code></pre></div>
<pre><code>## Error in `geom_point()`:
## ! Problem while computing aesthetics.
## ℹ Error occurred in the 1st layer.
## Caused by error:
## ! object &#39;x1&#39; not found</code></pre>
<p>Why can’t it find <code>x1</code>? It’s right there in the data frame!
But when evaluating <code>my_plot(x1)</code>, R doesn’t look for <code>x1</code> in the dataframe
(why would it?),
it looks for <code>x1</code> in the global environment.
So we have to make sure R waits until it’s inside <code>ggplot()</code> to look for <code>x1</code> in the data frame.
This is actually quite easy to do,
simply wrap the variable name in <code>{{ }}</code> in the function body:</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb21-1"><a href="programming.html#cb21-1" tabindex="-1"></a>my_plot <span class="ot">&lt;-</span> <span class="cf">function</span>(x_variable){</span>
<span id="cb21-2"><a href="programming.html#cb21-2" tabindex="-1"></a>  df <span class="sc">%&gt;%</span></span>
<span id="cb21-3"><a href="programming.html#cb21-3" tabindex="-1"></a>    <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">y =</span> y, <span class="at">x =</span> {{ x_variable }})) <span class="sc">+</span></span>
<span id="cb21-4"><a href="programming.html#cb21-4" tabindex="-1"></a>    <span class="fu">geom_point</span>()</span>
<span id="cb21-5"><a href="programming.html#cb21-5" tabindex="-1"></a>}</span>
<span id="cb21-6"><a href="programming.html#cb21-6" tabindex="-1"></a></span>
<span id="cb21-7"><a href="programming.html#cb21-7" tabindex="-1"></a><span class="fu">my_plot</span>(x1)</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-11-1.png" width="672" /></p>
<p>However easy that solution was, the explanation behind it is a bit more complex,
see <a href="https://dplyr.tidyverse.org/articles/programming.html">here</a>.
If that’s all black magic to you,
just remember that if you want to use unquoted variable names
in your functions, wrap them in <code>{{ }}</code> in the function body.</p>
</div>
</div>
<div id="map" class="section level2 hasAnchor">
<h2>Map()<a href="programming.html#map" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p><code>map()</code> works just like loop, but generally faster. It takes two arguments:</p>
<ul>
<li>An iterable object, like a vector or list</li>
<li>A function</li>
</ul>
<p>It will then apply the function to each element of the object. It will return
a list with the results of each iteration.</p>
<p>For example, to get the the square root for each of the numbers in a vector:</p>
<div class="sourceCode" id="cb22"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb22-1"><a href="programming.html#cb22-1" tabindex="-1"></a>vector <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">4</span>,<span class="dv">9</span>,<span class="dv">16</span>) </span>
<span id="cb22-2"><a href="programming.html#cb22-2" tabindex="-1"></a><span class="fu">map</span>(vector,sqrt)</span></code></pre></div>
<pre><code>## [[1]]
## [1] 2
## 
## [[2]]
## [1] 3
## 
## [[3]]
## [1] 4</code></pre>
<p>You may not quite like the fact that map returns a list, but quite a few things in
R use lists. <code>modelsummary()</code> for example.
Suppose I want to put all the results from <code>my_model()</code> above in a nice table.
Suppose I want to regress the same y on
a number of combinations of independent variables, I can put the combination of
variables in a list, and then run my model for each element of the list.</p>
<div class="sourceCode" id="cb24"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb24-1"><a href="programming.html#cb24-1" tabindex="-1"></a><span class="fu">library</span>(modelsummary)</span>
<span id="cb24-2"><a href="programming.html#cb24-2" tabindex="-1"></a></span>
<span id="cb24-3"><a href="programming.html#cb24-3" tabindex="-1"></a></span>
<span id="cb24-4"><a href="programming.html#cb24-4" tabindex="-1"></a><span class="co"># define a list of models: </span></span>
<span id="cb24-5"><a href="programming.html#cb24-5" tabindex="-1"></a><span class="co"># the left-hand sides are the labels</span></span>
<span id="cb24-6"><a href="programming.html#cb24-6" tabindex="-1"></a><span class="co"># the right-hand sides the independent variables I will pass to reformulate.</span></span>
<span id="cb24-7"><a href="programming.html#cb24-7" tabindex="-1"></a></span>
<span id="cb24-8"><a href="programming.html#cb24-8" tabindex="-1"></a>models <span class="ot">&lt;-</span></span>
<span id="cb24-9"><a href="programming.html#cb24-9" tabindex="-1"></a><span class="fu">list</span>(<span class="st">&quot;X1 only&quot;</span> <span class="ot">=</span> <span class="st">&quot;x1&quot;</span>,</span>
<span id="cb24-10"><a href="programming.html#cb24-10" tabindex="-1"></a>     <span class="st">&quot;X2 only&quot;</span> <span class="ot">=</span> <span class="st">&quot;x2&quot;</span>,</span>
<span id="cb24-11"><a href="programming.html#cb24-11" tabindex="-1"></a>     <span class="st">&quot;X3 only&quot;</span> <span class="ot">=</span> <span class="st">&quot;x3&quot;</span>,</span>
<span id="cb24-12"><a href="programming.html#cb24-12" tabindex="-1"></a>     <span class="st">&quot;Full&quot;</span> <span class="ot">=</span> <span class="fu">c</span>(<span class="st">&quot;x1&quot;</span>, <span class="st">&quot;x2&quot;</span>, <span class="st">&quot;x3&quot;</span>))</span>
<span id="cb24-13"><a href="programming.html#cb24-13" tabindex="-1"></a></span>
<span id="cb24-14"><a href="programming.html#cb24-14" tabindex="-1"></a></span>
<span id="cb24-15"><a href="programming.html#cb24-15" tabindex="-1"></a><span class="co"># map() works nicely in  dplyr pipe!</span></span>
<span id="cb24-16"><a href="programming.html#cb24-16" tabindex="-1"></a></span>
<span id="cb24-17"><a href="programming.html#cb24-17" tabindex="-1"></a>models <span class="sc">%&gt;%</span></span>
<span id="cb24-18"><a href="programming.html#cb24-18" tabindex="-1"></a>  <span class="fu">map</span>(my_model) <span class="sc">%&gt;%</span></span>
<span id="cb24-19"><a href="programming.html#cb24-19" tabindex="-1"></a>  <span class="fu">modelsummary</span>(<span class="at">output =</span> <span class="st">&quot;flextable&quot;</span>)</span></code></pre></div>
<div class="tabwid"><style>.cl-d22a1f14{}.cl-d2236408{font-family:'DejaVu Sans';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-d2262d3c{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-d2264c40{width:0.75in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d2264c4a{width:0.75in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d2264c54{width:0.75in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 1pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d2264c55{width:0.75in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style><table data-quarto-disable-processing='true' class='cl-d22a1f14'><thead><tr style="overflow-wrap:break-word;"><th class="cl-d2264c40"><p class="cl-d2262d3c"><span class="cl-d2236408"> </span></p></th><th class="cl-d2264c40"><p class="cl-d2262d3c"><span class="cl-d2236408">X1 only</span></p></th><th class="cl-d2264c40"><p class="cl-d2262d3c"><span class="cl-d2236408">X2 only</span></p></th><th class="cl-d2264c40"><p class="cl-d2262d3c"><span class="cl-d2236408">X3 only</span></p></th><th class="cl-d2264c40"><p class="cl-d2262d3c"><span class="cl-d2236408">Full</span></p></th></tr></thead><tbody><tr style="overflow-wrap:break-word;"><td class="cl-d2264c4a"><p class="cl-d2262d3c"><span class="cl-d2236408">(Intercept)</span></p></td><td class="cl-d2264c4a"><p class="cl-d2262d3c"><span class="cl-d2236408">0.033</span></p></td><td class="cl-d2264c4a"><p class="cl-d2262d3c"><span class="cl-d2236408">0.012</span></p></td><td class="cl-d2264c4a"><p class="cl-d2262d3c"><span class="cl-d2236408">0.021</span></p></td><td class="cl-d2264c4a"><p class="cl-d2262d3c"><span class="cl-d2236408">0.025</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-d2264c4a"><p class="cl-d2262d3c"><span class="cl-d2236408"></span></p></td><td class="cl-d2264c4a"><p class="cl-d2262d3c"><span class="cl-d2236408">(0.116)</span></p></td><td class="cl-d2264c4a"><p class="cl-d2262d3c"><span class="cl-d2236408">(0.110)</span></p></td><td class="cl-d2264c4a"><p class="cl-d2262d3c"><span class="cl-d2236408">(0.110)</span></p></td><td class="cl-d2264c4a"><p class="cl-d2262d3c"><span class="cl-d2236408">(0.119)</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-d2264c4a"><p class="cl-d2262d3c"><span class="cl-d2236408">x1</span></p></td><td class="cl-d2264c4a"><p class="cl-d2262d3c"><span class="cl-d2236408">0.040</span></p></td><td class="cl-d2264c4a"><p class="cl-d2262d3c"><span class="cl-d2236408"></span></p></td><td class="cl-d2264c4a"><p class="cl-d2262d3c"><span class="cl-d2236408"></span></p></td><td class="cl-d2264c4a"><p class="cl-d2262d3c"><span class="cl-d2236408">0.046</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-d2264c4a"><p class="cl-d2262d3c"><span class="cl-d2236408"></span></p></td><td class="cl-d2264c4a"><p class="cl-d2262d3c"><span class="cl-d2236408">(0.129)</span></p></td><td class="cl-d2264c4a"><p class="cl-d2262d3c"><span class="cl-d2236408"></span></p></td><td class="cl-d2264c4a"><p class="cl-d2262d3c"><span class="cl-d2236408"></span></p></td><td class="cl-d2264c4a"><p class="cl-d2262d3c"><span class="cl-d2236408">(0.133)</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-d2264c4a"><p class="cl-d2262d3c"><span class="cl-d2236408">x2</span></p></td><td class="cl-d2264c4a"><p class="cl-d2262d3c"><span class="cl-d2236408"></span></p></td><td class="cl-d2264c4a"><p class="cl-d2262d3c"><span class="cl-d2236408">-0.092</span></p></td><td class="cl-d2264c4a"><p class="cl-d2262d3c"><span class="cl-d2236408"></span></p></td><td class="cl-d2264c4a"><p class="cl-d2262d3c"><span class="cl-d2236408">-0.095</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-d2264c4a"><p class="cl-d2262d3c"><span class="cl-d2236408"></span></p></td><td class="cl-d2264c4a"><p class="cl-d2262d3c"><span class="cl-d2236408"></span></p></td><td class="cl-d2264c4a"><p class="cl-d2262d3c"><span class="cl-d2236408">(0.129)</span></p></td><td class="cl-d2264c4a"><p class="cl-d2262d3c"><span class="cl-d2236408"></span></p></td><td class="cl-d2264c4a"><p class="cl-d2262d3c"><span class="cl-d2236408">(0.132)</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-d2264c4a"><p class="cl-d2262d3c"><span class="cl-d2236408">x3</span></p></td><td class="cl-d2264c4a"><p class="cl-d2262d3c"><span class="cl-d2236408"></span></p></td><td class="cl-d2264c4a"><p class="cl-d2262d3c"><span class="cl-d2236408"></span></p></td><td class="cl-d2264c4a"><p class="cl-d2262d3c"><span class="cl-d2236408">0.007</span></p></td><td class="cl-d2264c4a"><p class="cl-d2262d3c"><span class="cl-d2236408">-0.002</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-d2264c4a"><p class="cl-d2262d3c"><span class="cl-d2236408"></span></p></td><td class="cl-d2264c4a"><p class="cl-d2262d3c"><span class="cl-d2236408"></span></p></td><td class="cl-d2264c4a"><p class="cl-d2262d3c"><span class="cl-d2236408"></span></p></td><td class="cl-d2264c4a"><p class="cl-d2262d3c"><span class="cl-d2236408">(0.115)</span></p></td><td class="cl-d2264c4a"><p class="cl-d2262d3c"><span class="cl-d2236408">(0.118)</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-d2264c54"><p class="cl-d2262d3c"><span class="cl-d2236408">Num.Obs.</span></p></td><td class="cl-d2264c54"><p class="cl-d2262d3c"><span class="cl-d2236408">50</span></p></td><td class="cl-d2264c54"><p class="cl-d2262d3c"><span class="cl-d2236408">50</span></p></td><td class="cl-d2264c54"><p class="cl-d2262d3c"><span class="cl-d2236408">50</span></p></td><td class="cl-d2264c54"><p class="cl-d2262d3c"><span class="cl-d2236408">50</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-d2264c4a"><p class="cl-d2262d3c"><span class="cl-d2236408">R2</span></p></td><td class="cl-d2264c4a"><p class="cl-d2262d3c"><span class="cl-d2236408">0.002</span></p></td><td class="cl-d2264c4a"><p class="cl-d2262d3c"><span class="cl-d2236408">0.011</span></p></td><td class="cl-d2264c4a"><p class="cl-d2262d3c"><span class="cl-d2236408">0.000</span></p></td><td class="cl-d2264c4a"><p class="cl-d2262d3c"><span class="cl-d2236408">0.013</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-d2264c4a"><p class="cl-d2262d3c"><span class="cl-d2236408">R2 Adj.</span></p></td><td class="cl-d2264c4a"><p class="cl-d2262d3c"><span class="cl-d2236408">-0.019</span></p></td><td class="cl-d2264c4a"><p class="cl-d2262d3c"><span class="cl-d2236408">-0.010</span></p></td><td class="cl-d2264c4a"><p class="cl-d2262d3c"><span class="cl-d2236408">-0.021</span></p></td><td class="cl-d2264c4a"><p class="cl-d2262d3c"><span class="cl-d2236408">-0.051</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-d2264c4a"><p class="cl-d2262d3c"><span class="cl-d2236408">AIC</span></p></td><td class="cl-d2264c4a"><p class="cl-d2262d3c"><span class="cl-d2236408">120.8</span></p></td><td class="cl-d2264c4a"><p class="cl-d2262d3c"><span class="cl-d2236408">120.3</span></p></td><td class="cl-d2264c4a"><p class="cl-d2262d3c"><span class="cl-d2236408">120.9</span></p></td><td class="cl-d2264c4a"><p class="cl-d2262d3c"><span class="cl-d2236408">124.2</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-d2264c4a"><p class="cl-d2262d3c"><span class="cl-d2236408">BIC</span></p></td><td class="cl-d2264c4a"><p class="cl-d2262d3c"><span class="cl-d2236408">126.5</span></p></td><td class="cl-d2264c4a"><p class="cl-d2262d3c"><span class="cl-d2236408">126.1</span></p></td><td class="cl-d2264c4a"><p class="cl-d2262d3c"><span class="cl-d2236408">126.6</span></p></td><td class="cl-d2264c4a"><p class="cl-d2262d3c"><span class="cl-d2236408">133.8</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-d2264c4a"><p class="cl-d2262d3c"><span class="cl-d2236408">Log.Lik.</span></p></td><td class="cl-d2264c4a"><p class="cl-d2262d3c"><span class="cl-d2236408">-57.386</span></p></td><td class="cl-d2264c4a"><p class="cl-d2262d3c"><span class="cl-d2236408">-57.169</span></p></td><td class="cl-d2264c4a"><p class="cl-d2262d3c"><span class="cl-d2236408">-57.433</span></p></td><td class="cl-d2264c4a"><p class="cl-d2262d3c"><span class="cl-d2236408">-57.103</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-d2264c4a"><p class="cl-d2262d3c"><span class="cl-d2236408">F</span></p></td><td class="cl-d2264c4a"><p class="cl-d2262d3c"><span class="cl-d2236408">0.094</span></p></td><td class="cl-d2264c4a"><p class="cl-d2262d3c"><span class="cl-d2236408">0.512</span></p></td><td class="cl-d2264c4a"><p class="cl-d2262d3c"><span class="cl-d2236408">0.004</span></p></td><td class="cl-d2264c4a"><p class="cl-d2262d3c"><span class="cl-d2236408">0.205</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-d2264c55"><p class="cl-d2262d3c"><span class="cl-d2236408">RMSE</span></p></td><td class="cl-d2264c55"><p class="cl-d2262d3c"><span class="cl-d2236408">0.76</span></p></td><td class="cl-d2264c55"><p class="cl-d2262d3c"><span class="cl-d2236408">0.76</span></p></td><td class="cl-d2264c55"><p class="cl-d2262d3c"><span class="cl-d2236408">0.76</span></p></td><td class="cl-d2264c55"><p class="cl-d2262d3c"><span class="cl-d2236408">0.76</span></p></td></tr></tbody></table></div>
<p>If you want to specify more arguments to the function you are using in <code>map()</code>,
you can do so by using an anonymous function.</p>
<p>Let’s say I want to calculate the mean of a number of vectors,
but I want to remove missing values.</p>
<div class="sourceCode" id="cb25"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb25-1"><a href="programming.html#cb25-1" tabindex="-1"></a>vectors <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="fu">c</span>(<span class="dv">1</span>,<span class="cn">NA</span>,<span class="dv">3</span>,<span class="sc">-</span><span class="dv">99</span>,<span class="dv">5</span>),</span>
<span id="cb25-2"><a href="programming.html#cb25-2" tabindex="-1"></a>               <span class="fu">c</span>(<span class="dv">10</span>,<span class="dv">20</span>,<span class="sc">-</span><span class="dv">99</span>,<span class="dv">30</span>,<span class="dv">40</span>,<span class="dv">50</span>),</span>
<span id="cb25-3"><a href="programming.html#cb25-3" tabindex="-1"></a>               <span class="fu">c</span>(<span class="sc">-</span><span class="dv">99</span>,<span class="cn">NA</span>,<span class="dv">200</span>,<span class="dv">300</span>))</span>
<span id="cb25-4"><a href="programming.html#cb25-4" tabindex="-1"></a></span>
<span id="cb25-5"><a href="programming.html#cb25-5" tabindex="-1"></a><span class="co"># the ~ creates a purrr-style anonymous function, where .x is current element of the list</span></span>
<span id="cb25-6"><a href="programming.html#cb25-6" tabindex="-1"></a>vectors <span class="sc">%&gt;%</span> </span>
<span id="cb25-7"><a href="programming.html#cb25-7" tabindex="-1"></a>  <span class="fu">map</span>(mean)</span></code></pre></div>
<pre><code>## [[1]]
## [1] NA
## 
## [[2]]
## [1] 8.5
## 
## [[3]]
## [1] NA</code></pre>
<p>That didn;t work, since mean doesn’t remove NAs by default.
I can make a new function that does remove NAs by defaults:</p>
<div class="sourceCode" id="cb27"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb27-1"><a href="programming.html#cb27-1" tabindex="-1"></a>mean_narm <span class="ot">&lt;-</span> <span class="cf">function</span>(x){</span>
<span id="cb27-2"><a href="programming.html#cb27-2" tabindex="-1"></a>  <span class="fu">mean</span>(x, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb27-3"><a href="programming.html#cb27-3" tabindex="-1"></a>}</span>
<span id="cb27-4"><a href="programming.html#cb27-4" tabindex="-1"></a></span>
<span id="cb27-5"><a href="programming.html#cb27-5" tabindex="-1"></a>vectors <span class="sc">%&gt;%</span> </span>
<span id="cb27-6"><a href="programming.html#cb27-6" tabindex="-1"></a>  <span class="fu">map</span>(mean_narm)</span></code></pre></div>
<pre><code>## [[1]]
## [1] -22.5
## 
## [[2]]
## [1] 8.5
## 
## [[3]]
## [1] 133.6667</code></pre>
<p>Or, if I don’t want this new function cluttering up my environment,
I can make an anonymous function on the fly:</p>
<div class="sourceCode" id="cb29"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb29-1"><a href="programming.html#cb29-1" tabindex="-1"></a>vectors <span class="sc">%&gt;%</span> </span>
<span id="cb29-2"><a href="programming.html#cb29-2" tabindex="-1"></a>  <span class="fu">map</span>(<span class="cf">function</span>(x) <span class="fu">mean</span>(x, <span class="at">na.rm =</span> <span class="cn">TRUE</span>))</span></code></pre></div>
<pre><code>## [[1]]
## [1] -22.5
## 
## [[2]]
## [1] 8.5
## 
## [[3]]
## [1] 133.6667</code></pre>
<p>Note it will be quite difficult to use <code>map()</code> with data frame columns to edit
multiple variables.
For this, use <code>across()</code>, as seen in the <a href="datawrangling.html#across">data cleaning chapter</a></p>
</div>
<div id="other-variants-of-map" class="section level2 hasAnchor">
<h2>Other variants of <code>map()</code><a href="programming.html#other-variants-of-map" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p><code>map()</code> is an entire family of functions.
One that I like is <code>pmap()</code>, which allows you to iterate over a number
of things at the same time.</p>
<p>Suppose, like before I want to run a model a few times,
but now I want to not only change one thing (like the control),
but more things, like the dependent variable.</p>
<p>First, I put the parameters of each specification in a data frame like this:</p>
<div class="sourceCode" id="cb31"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb31-1"><a href="programming.html#cb31-1" tabindex="-1"></a>specs <span class="ot">&lt;-</span> </span>
<span id="cb31-2"><a href="programming.html#cb31-2" tabindex="-1"></a><span class="fu">tribble</span>(</span>
<span id="cb31-3"><a href="programming.html#cb31-3" tabindex="-1"></a>  <span class="sc">~</span>label, <span class="sc">~</span>depvar, <span class="sc">~</span>controls,</span>
<span id="cb31-4"><a href="programming.html#cb31-4" tabindex="-1"></a>  <span class="st">&quot;X1 only&quot;</span> ,<span class="st">&quot;y&quot;</span>, <span class="st">&quot;x1&quot;</span>,</span>
<span id="cb31-5"><a href="programming.html#cb31-5" tabindex="-1"></a>  <span class="st">&quot;X2 only&quot;</span> ,<span class="st">&quot;y&quot;</span>, <span class="st">&quot;x2&quot;</span>,</span>
<span id="cb31-6"><a href="programming.html#cb31-6" tabindex="-1"></a>   <span class="st">&quot;X3 only&quot;</span> , <span class="st">&quot;y&quot;</span>,<span class="st">&quot;x3&quot;</span>,</span>
<span id="cb31-7"><a href="programming.html#cb31-7" tabindex="-1"></a>  <span class="st">&quot;Full&quot;</span> ,<span class="st">&quot;y&quot;</span>, <span class="fu">c</span>(<span class="st">&quot;x1&quot;</span>, <span class="st">&quot;x2&quot;</span>, <span class="st">&quot;x3&quot;</span>)</span>
<span id="cb31-8"><a href="programming.html#cb31-8" tabindex="-1"></a>)</span></code></pre></div>
<p>I can print this in my markdown file, so it’s easily seen what I am doing:</p>
<div class="sourceCode" id="cb32"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb32-1"><a href="programming.html#cb32-1" tabindex="-1"></a><span class="fu">library</span>(flextable)</span>
<span id="cb32-2"><a href="programming.html#cb32-2" tabindex="-1"></a>specs <span class="sc">%&gt;%</span> </span>
<span id="cb32-3"><a href="programming.html#cb32-3" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb32-4"><a href="programming.html#cb32-4" tabindex="-1"></a>    <span class="at">controls =</span> <span class="fu">map_chr</span>(controls, <span class="sc">~</span> <span class="fu">paste</span>(.x, <span class="at">collapse =</span> <span class="st">&quot;,&quot;</span>))</span>
<span id="cb32-5"><a href="programming.html#cb32-5" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb32-6"><a href="programming.html#cb32-6" tabindex="-1"></a>  <span class="fu">flextable</span>()</span></code></pre></div>
<div class="tabwid"><style>.cl-d23eb58c{}.cl-d2396140{font-family:'DejaVu Sans';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-d23ba5d6{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-d23bbec2{width:0.75in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d23bbecc{width:0.75in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d23bbed6{width:0.75in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style><table data-quarto-disable-processing='true' class='cl-d23eb58c'><thead><tr style="overflow-wrap:break-word;"><th class="cl-d23bbec2"><p class="cl-d23ba5d6"><span class="cl-d2396140">label</span></p></th><th class="cl-d23bbec2"><p class="cl-d23ba5d6"><span class="cl-d2396140">depvar</span></p></th><th class="cl-d23bbec2"><p class="cl-d23ba5d6"><span class="cl-d2396140">controls</span></p></th></tr></thead><tbody><tr style="overflow-wrap:break-word;"><td class="cl-d23bbecc"><p class="cl-d23ba5d6"><span class="cl-d2396140">X1 only</span></p></td><td class="cl-d23bbecc"><p class="cl-d23ba5d6"><span class="cl-d2396140">y</span></p></td><td class="cl-d23bbecc"><p class="cl-d23ba5d6"><span class="cl-d2396140">x1</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-d23bbecc"><p class="cl-d23ba5d6"><span class="cl-d2396140">X2 only</span></p></td><td class="cl-d23bbecc"><p class="cl-d23ba5d6"><span class="cl-d2396140">y</span></p></td><td class="cl-d23bbecc"><p class="cl-d23ba5d6"><span class="cl-d2396140">x2</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-d23bbecc"><p class="cl-d23ba5d6"><span class="cl-d2396140">X3 only</span></p></td><td class="cl-d23bbecc"><p class="cl-d23ba5d6"><span class="cl-d2396140">y</span></p></td><td class="cl-d23bbecc"><p class="cl-d23ba5d6"><span class="cl-d2396140">x3</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-d23bbed6"><p class="cl-d23ba5d6"><span class="cl-d2396140">Full</span></p></td><td class="cl-d23bbed6"><p class="cl-d23ba5d6"><span class="cl-d2396140">y</span></p></td><td class="cl-d23bbed6"><p class="cl-d23ba5d6"><span class="cl-d2396140">x1,x2,x3</span></p></td></tr></tbody></table></div>
<p>I used the <code>map_chr()</code> function to concatenate each cell in the <code>controls</code> column
using <code>paste()</code> and turn that into a vector of strings.
This vector can go straight into mutate, and in the dataframe.</p>
<p>Then I feed my <code>spec</code> into a function using <code>pmap</code>:</p>
<div class="sourceCode" id="cb33"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb33-1"><a href="programming.html#cb33-1" tabindex="-1"></a>specs <span class="sc">%&gt;%</span> </span>
<span id="cb33-2"><a href="programming.html#cb33-2" tabindex="-1"></a>  <span class="fu">pmap</span>(</span>
<span id="cb33-3"><a href="programming.html#cb33-3" tabindex="-1"></a>    <span class="cf">function</span>(depvar, controls, ... ){</span>
<span id="cb33-4"><a href="programming.html#cb33-4" tabindex="-1"></a>      <span class="fu">lm</span>(<span class="fu">reformulate</span>(controls, <span class="at">response =</span> depvar), <span class="at">data =</span>df)  </span>
<span id="cb33-5"><a href="programming.html#cb33-5" tabindex="-1"></a>    }</span>
<span id="cb33-6"><a href="programming.html#cb33-6" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb33-7"><a href="programming.html#cb33-7" tabindex="-1"></a>  <span class="fu">set_names</span>(specs<span class="sc">$</span>label) <span class="sc">%&gt;%</span> </span>
<span id="cb33-8"><a href="programming.html#cb33-8" tabindex="-1"></a>  <span class="fu">modelsummary</span>(<span class="at">output =</span> <span class="st">&quot;flextable&quot;</span>, <span class="at">stars =</span> <span class="cn">TRUE</span>)</span></code></pre></div>
<div class="tabwid"><style>.cl-d2acc9a0{}.cl-d2a6c104{font-family:'DejaVu Sans';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-d2a94186{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-d2a95bee{width:0.75in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d2a95bf8{width:0.75in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d2a95c02{width:0.75in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 1pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d2a95c0c{width:0.75in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d2a95c0d{width:0.75in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(255, 255, 255, 0.00);border-top: 0 solid rgba(255, 255, 255, 0.00);border-left: 0 solid rgba(255, 255, 255, 0.00);border-right: 0 solid rgba(255, 255, 255, 0.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style><table data-quarto-disable-processing='true' class='cl-d2acc9a0'><thead><tr style="overflow-wrap:break-word;"><th class="cl-d2a95bee"><p class="cl-d2a94186"><span class="cl-d2a6c104"> </span></p></th><th class="cl-d2a95bee"><p class="cl-d2a94186"><span class="cl-d2a6c104">X1 only</span></p></th><th class="cl-d2a95bee"><p class="cl-d2a94186"><span class="cl-d2a6c104">X2 only</span></p></th><th class="cl-d2a95bee"><p class="cl-d2a94186"><span class="cl-d2a6c104">X3 only</span></p></th><th class="cl-d2a95bee"><p class="cl-d2a94186"><span class="cl-d2a6c104">Full</span></p></th></tr></thead><tbody><tr style="overflow-wrap:break-word;"><td class="cl-d2a95bf8"><p class="cl-d2a94186"><span class="cl-d2a6c104">(Intercept)</span></p></td><td class="cl-d2a95bf8"><p class="cl-d2a94186"><span class="cl-d2a6c104">0.033</span></p></td><td class="cl-d2a95bf8"><p class="cl-d2a94186"><span class="cl-d2a6c104">0.012</span></p></td><td class="cl-d2a95bf8"><p class="cl-d2a94186"><span class="cl-d2a6c104">0.021</span></p></td><td class="cl-d2a95bf8"><p class="cl-d2a94186"><span class="cl-d2a6c104">0.025</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-d2a95bf8"><p class="cl-d2a94186"><span class="cl-d2a6c104"></span></p></td><td class="cl-d2a95bf8"><p class="cl-d2a94186"><span class="cl-d2a6c104">(0.116)</span></p></td><td class="cl-d2a95bf8"><p class="cl-d2a94186"><span class="cl-d2a6c104">(0.110)</span></p></td><td class="cl-d2a95bf8"><p class="cl-d2a94186"><span class="cl-d2a6c104">(0.110)</span></p></td><td class="cl-d2a95bf8"><p class="cl-d2a94186"><span class="cl-d2a6c104">(0.119)</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-d2a95bf8"><p class="cl-d2a94186"><span class="cl-d2a6c104">x1</span></p></td><td class="cl-d2a95bf8"><p class="cl-d2a94186"><span class="cl-d2a6c104">0.040</span></p></td><td class="cl-d2a95bf8"><p class="cl-d2a94186"><span class="cl-d2a6c104"></span></p></td><td class="cl-d2a95bf8"><p class="cl-d2a94186"><span class="cl-d2a6c104"></span></p></td><td class="cl-d2a95bf8"><p class="cl-d2a94186"><span class="cl-d2a6c104">0.046</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-d2a95bf8"><p class="cl-d2a94186"><span class="cl-d2a6c104"></span></p></td><td class="cl-d2a95bf8"><p class="cl-d2a94186"><span class="cl-d2a6c104">(0.129)</span></p></td><td class="cl-d2a95bf8"><p class="cl-d2a94186"><span class="cl-d2a6c104"></span></p></td><td class="cl-d2a95bf8"><p class="cl-d2a94186"><span class="cl-d2a6c104"></span></p></td><td class="cl-d2a95bf8"><p class="cl-d2a94186"><span class="cl-d2a6c104">(0.133)</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-d2a95bf8"><p class="cl-d2a94186"><span class="cl-d2a6c104">x2</span></p></td><td class="cl-d2a95bf8"><p class="cl-d2a94186"><span class="cl-d2a6c104"></span></p></td><td class="cl-d2a95bf8"><p class="cl-d2a94186"><span class="cl-d2a6c104">-0.092</span></p></td><td class="cl-d2a95bf8"><p class="cl-d2a94186"><span class="cl-d2a6c104"></span></p></td><td class="cl-d2a95bf8"><p class="cl-d2a94186"><span class="cl-d2a6c104">-0.095</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-d2a95bf8"><p class="cl-d2a94186"><span class="cl-d2a6c104"></span></p></td><td class="cl-d2a95bf8"><p class="cl-d2a94186"><span class="cl-d2a6c104"></span></p></td><td class="cl-d2a95bf8"><p class="cl-d2a94186"><span class="cl-d2a6c104">(0.129)</span></p></td><td class="cl-d2a95bf8"><p class="cl-d2a94186"><span class="cl-d2a6c104"></span></p></td><td class="cl-d2a95bf8"><p class="cl-d2a94186"><span class="cl-d2a6c104">(0.132)</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-d2a95bf8"><p class="cl-d2a94186"><span class="cl-d2a6c104">x3</span></p></td><td class="cl-d2a95bf8"><p class="cl-d2a94186"><span class="cl-d2a6c104"></span></p></td><td class="cl-d2a95bf8"><p class="cl-d2a94186"><span class="cl-d2a6c104"></span></p></td><td class="cl-d2a95bf8"><p class="cl-d2a94186"><span class="cl-d2a6c104">0.007</span></p></td><td class="cl-d2a95bf8"><p class="cl-d2a94186"><span class="cl-d2a6c104">-0.002</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-d2a95bf8"><p class="cl-d2a94186"><span class="cl-d2a6c104"></span></p></td><td class="cl-d2a95bf8"><p class="cl-d2a94186"><span class="cl-d2a6c104"></span></p></td><td class="cl-d2a95bf8"><p class="cl-d2a94186"><span class="cl-d2a6c104"></span></p></td><td class="cl-d2a95bf8"><p class="cl-d2a94186"><span class="cl-d2a6c104">(0.115)</span></p></td><td class="cl-d2a95bf8"><p class="cl-d2a94186"><span class="cl-d2a6c104">(0.118)</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-d2a95c02"><p class="cl-d2a94186"><span class="cl-d2a6c104">Num.Obs.</span></p></td><td class="cl-d2a95c02"><p class="cl-d2a94186"><span class="cl-d2a6c104">50</span></p></td><td class="cl-d2a95c02"><p class="cl-d2a94186"><span class="cl-d2a6c104">50</span></p></td><td class="cl-d2a95c02"><p class="cl-d2a94186"><span class="cl-d2a6c104">50</span></p></td><td class="cl-d2a95c02"><p class="cl-d2a94186"><span class="cl-d2a6c104">50</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-d2a95bf8"><p class="cl-d2a94186"><span class="cl-d2a6c104">R2</span></p></td><td class="cl-d2a95bf8"><p class="cl-d2a94186"><span class="cl-d2a6c104">0.002</span></p></td><td class="cl-d2a95bf8"><p class="cl-d2a94186"><span class="cl-d2a6c104">0.011</span></p></td><td class="cl-d2a95bf8"><p class="cl-d2a94186"><span class="cl-d2a6c104">0.000</span></p></td><td class="cl-d2a95bf8"><p class="cl-d2a94186"><span class="cl-d2a6c104">0.013</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-d2a95bf8"><p class="cl-d2a94186"><span class="cl-d2a6c104">R2 Adj.</span></p></td><td class="cl-d2a95bf8"><p class="cl-d2a94186"><span class="cl-d2a6c104">-0.019</span></p></td><td class="cl-d2a95bf8"><p class="cl-d2a94186"><span class="cl-d2a6c104">-0.010</span></p></td><td class="cl-d2a95bf8"><p class="cl-d2a94186"><span class="cl-d2a6c104">-0.021</span></p></td><td class="cl-d2a95bf8"><p class="cl-d2a94186"><span class="cl-d2a6c104">-0.051</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-d2a95bf8"><p class="cl-d2a94186"><span class="cl-d2a6c104">AIC</span></p></td><td class="cl-d2a95bf8"><p class="cl-d2a94186"><span class="cl-d2a6c104">120.8</span></p></td><td class="cl-d2a95bf8"><p class="cl-d2a94186"><span class="cl-d2a6c104">120.3</span></p></td><td class="cl-d2a95bf8"><p class="cl-d2a94186"><span class="cl-d2a6c104">120.9</span></p></td><td class="cl-d2a95bf8"><p class="cl-d2a94186"><span class="cl-d2a6c104">124.2</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-d2a95bf8"><p class="cl-d2a94186"><span class="cl-d2a6c104">BIC</span></p></td><td class="cl-d2a95bf8"><p class="cl-d2a94186"><span class="cl-d2a6c104">126.5</span></p></td><td class="cl-d2a95bf8"><p class="cl-d2a94186"><span class="cl-d2a6c104">126.1</span></p></td><td class="cl-d2a95bf8"><p class="cl-d2a94186"><span class="cl-d2a6c104">126.6</span></p></td><td class="cl-d2a95bf8"><p class="cl-d2a94186"><span class="cl-d2a6c104">133.8</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-d2a95bf8"><p class="cl-d2a94186"><span class="cl-d2a6c104">Log.Lik.</span></p></td><td class="cl-d2a95bf8"><p class="cl-d2a94186"><span class="cl-d2a6c104">-57.386</span></p></td><td class="cl-d2a95bf8"><p class="cl-d2a94186"><span class="cl-d2a6c104">-57.169</span></p></td><td class="cl-d2a95bf8"><p class="cl-d2a94186"><span class="cl-d2a6c104">-57.433</span></p></td><td class="cl-d2a95bf8"><p class="cl-d2a94186"><span class="cl-d2a6c104">-57.103</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-d2a95bf8"><p class="cl-d2a94186"><span class="cl-d2a6c104">F</span></p></td><td class="cl-d2a95bf8"><p class="cl-d2a94186"><span class="cl-d2a6c104">0.094</span></p></td><td class="cl-d2a95bf8"><p class="cl-d2a94186"><span class="cl-d2a6c104">0.512</span></p></td><td class="cl-d2a95bf8"><p class="cl-d2a94186"><span class="cl-d2a6c104">0.004</span></p></td><td class="cl-d2a95bf8"><p class="cl-d2a94186"><span class="cl-d2a6c104">0.205</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-d2a95c0c"><p class="cl-d2a94186"><span class="cl-d2a6c104">RMSE</span></p></td><td class="cl-d2a95c0c"><p class="cl-d2a94186"><span class="cl-d2a6c104">0.76</span></p></td><td class="cl-d2a95c0c"><p class="cl-d2a94186"><span class="cl-d2a6c104">0.76</span></p></td><td class="cl-d2a95c0c"><p class="cl-d2a94186"><span class="cl-d2a6c104">0.76</span></p></td><td class="cl-d2a95c0c"><p class="cl-d2a94186"><span class="cl-d2a6c104">0.76</span></p></td></tr></tbody><tfoot><tr style="overflow-wrap:break-word;"><td  colspan="5"class="cl-d2a95c0d"><p class="cl-d2a94186"><span class="cl-d2a6c104">+ p &lt; 0.1, * p &lt; 0.05, ** p &lt; 0.01, *** p &lt; 0.001</span></p></td></tr></tfoot></table></div>
<p>Notes:</p>
<ul>
<li>The column names of <code>spec</code> will be passed to the function as arguments.</li>
<li>If <code>spec</code> has columns that my function does not accept as arguments,
it will throw an error. The <code>...</code> prevents this,
as that captures all unused arguments.</li>
</ul>
<p>This particular function uses only 2 arguments,
so <code>map2()</code> would have worked fine here as well,
but this can be more easily expanded to more complex things than <code>map2()</code>.</p>
</div>
<div id="making-functions-re-usable-with-box" class="section level2 hasAnchor">
<h2>Making functions re-usable with box<a href="programming.html#making-functions-re-usable-with-box" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Now that you have a bunch of functions,
it’s a good idea to make them re-usable across projects.
The <a href="https://box.r-lib.org/">box package</a> makes this easy.</p>
<p>You define your functions in a script, say <code>box_modules/functions.R</code>:</p>
<div class="sourceCode" id="cb34"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb34-1"><a href="programming.html#cb34-1" tabindex="-1"></a>prop_miss <span class="ot">&lt;-</span> <span class="cf">function</span>(x,<span class="at">na.rm =</span> <span class="cn">TRUE</span>) {</span>
<span id="cb34-2"><a href="programming.html#cb34-2" tabindex="-1"></a>  box<span class="sc">::</span><span class="fu">use</span>(r<span class="sc">/</span>core[...])  </span>
<span id="cb34-3"><a href="programming.html#cb34-3" tabindex="-1"></a>  <span class="fu">mean</span>(<span class="fu">is.na</span>(x))</span>
<span id="cb34-4"><a href="programming.html#cb34-4" tabindex="-1"></a>}</span></code></pre></div>
<p>This is just a function that returns the proportion of missing values in a vector.
<code>box::use(r/core[...])</code> loads all functions from the core package,
so you can use them in your function (box modules don’t load anything you don’t tell them to).<br />
You can then use this function in any project loading the entire script:</p>
<div class="sourceCode" id="cb35"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb35-1"><a href="programming.html#cb35-1" tabindex="-1"></a>box<span class="sc">::</span><span class="fu">use</span>(.<span class="sc">/</span>box_modules<span class="sc">/</span>functions)</span></code></pre></div>
<p>This looks in the folder where your script is located for a folder called box_modules,
and loads all functions in the functions.R script.</p>
<p>You can run the function by:</p>
<div class="sourceCode" id="cb36"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb36-1"><a href="programming.html#cb36-1" tabindex="-1"></a>functions<span class="sc">$</span><span class="fu">prop_miss</span>(<span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="cn">NA</span>,<span class="dv">4</span>))</span></code></pre></div>
<pre><code>## [1] 0.25</code></pre>
<p>Box even allows you to load packages:</p>
<div class="sourceCode" id="cb38"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb38-1"><a href="programming.html#cb38-1" tabindex="-1"></a>box<span class="sc">::</span><span class="fu">use</span>(dplyr)</span>
<span id="cb38-2"><a href="programming.html#cb38-2" tabindex="-1"></a></span>
<span id="cb38-3"><a href="programming.html#cb38-3" tabindex="-1"></a></span>
<span id="cb38-4"><a href="programming.html#cb38-4" tabindex="-1"></a>dplyr<span class="sc">$</span>starwars <span class="sc">|&gt;</span></span>
<span id="cb38-5"><a href="programming.html#cb38-5" tabindex="-1"></a>  dplyr<span class="sc">$</span><span class="fu">filter</span>(species <span class="sc">==</span> <span class="st">&quot;Droid&quot;</span>)</span></code></pre></div>
<pre><code>## # A tibble: 6 × 14
##   name   height  mass hair_color skin_color  eye_color birth_year sex   gender  
##   &lt;chr&gt;   &lt;int&gt; &lt;dbl&gt; &lt;chr&gt;      &lt;chr&gt;       &lt;chr&gt;          &lt;dbl&gt; &lt;chr&gt; &lt;chr&gt;   
## 1 C-3PO     167    75 &lt;NA&gt;       gold        yellow           112 none  masculi…
## 2 R2-D2      96    32 &lt;NA&gt;       white, blue red               33 none  masculi…
## 3 R5-D4      97    32 &lt;NA&gt;       white, red  red               NA none  masculi…
## 4 IG-88     200   140 none       metal       red               15 none  masculi…
## 5 R4-P17     96    NA none       silver, red red, blue         NA none  feminine
## 6 BB8        NA    NA none       none        black             NA none  masculi…
## # ℹ 5 more variables: homeworld &lt;chr&gt;, species &lt;chr&gt;, films &lt;list&gt;,
## #   vehicles &lt;list&gt;, starships &lt;list&gt;</code></pre>
<p>In fact, when writing your own box modules,
this is the only way to load packages (hence thr <code>box::use(r/core[...]</code> in the function above).
Note that you have to use the <code>$</code> operator to access functions and data
from the package or module you loaded.
If you dont want that you can also attach specific functions:</p>
<div class="sourceCode" id="cb40"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb40-1"><a href="programming.html#cb40-1" tabindex="-1"></a>box<span class="sc">::</span><span class="fu">use</span>(dplyr[filter, <span class="st">`</span><span class="at">%&gt;%</span><span class="st">`</span>])</span>
<span id="cb40-2"><a href="programming.html#cb40-2" tabindex="-1"></a></span>
<span id="cb40-3"><a href="programming.html#cb40-3" tabindex="-1"></a></span>
<span id="cb40-4"><a href="programming.html#cb40-4" tabindex="-1"></a>dplyr<span class="sc">$</span>starwars <span class="sc">%&gt;%</span></span>
<span id="cb40-5"><a href="programming.html#cb40-5" tabindex="-1"></a>  <span class="fu">filter</span>(species <span class="sc">==</span> <span class="st">&quot;Droid&quot;</span>)</span></code></pre></div>
<pre><code>## # A tibble: 6 × 14
##   name   height  mass hair_color skin_color  eye_color birth_year sex   gender  
##   &lt;chr&gt;   &lt;int&gt; &lt;dbl&gt; &lt;chr&gt;      &lt;chr&gt;       &lt;chr&gt;          &lt;dbl&gt; &lt;chr&gt; &lt;chr&gt;   
## 1 C-3PO     167    75 &lt;NA&gt;       gold        yellow           112 none  masculi…
## 2 R2-D2      96    32 &lt;NA&gt;       white, blue red               33 none  masculi…
## 3 R5-D4      97    32 &lt;NA&gt;       white, red  red               NA none  masculi…
## 4 IG-88     200   140 none       metal       red               15 none  masculi…
## 5 R4-P17     96    NA none       silver, red red, blue         NA none  feminine
## 6 BB8        NA    NA none       none        black             NA none  masculi…
## # ℹ 5 more variables: homeworld &lt;chr&gt;, species &lt;chr&gt;, films &lt;list&gt;,
## #   vehicles &lt;list&gt;, starships &lt;list&gt;</code></pre>
<p>Or just attach everything just like you would with <code>library()</code>:</p>
<div class="sourceCode" id="cb42"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb42-1"><a href="programming.html#cb42-1" tabindex="-1"></a>box<span class="sc">::</span><span class="fu">use</span>(dplyr[...])</span>
<span id="cb42-2"><a href="programming.html#cb42-2" tabindex="-1"></a></span>
<span id="cb42-3"><a href="programming.html#cb42-3" tabindex="-1"></a>starwars <span class="sc">%&gt;%</span></span>
<span id="cb42-4"><a href="programming.html#cb42-4" tabindex="-1"></a>  <span class="fu">filter</span>(species <span class="sc">==</span> <span class="st">&quot;Droid&quot;</span>)</span></code></pre></div>
<pre><code>## # A tibble: 6 × 14
##   name   height  mass hair_color skin_color  eye_color birth_year sex   gender  
##   &lt;chr&gt;   &lt;int&gt; &lt;dbl&gt; &lt;chr&gt;      &lt;chr&gt;       &lt;chr&gt;          &lt;dbl&gt; &lt;chr&gt; &lt;chr&gt;   
## 1 C-3PO     167    75 &lt;NA&gt;       gold        yellow           112 none  masculi…
## 2 R2-D2      96    32 &lt;NA&gt;       white, blue red               33 none  masculi…
## 3 R5-D4      97    32 &lt;NA&gt;       white, red  red               NA none  masculi…
## 4 IG-88     200   140 none       metal       red               15 none  masculi…
## 5 R4-P17     96    NA none       silver, red red, blue         NA none  feminine
## 6 BB8        NA    NA none       none        black             NA none  masculi…
## # ℹ 5 more variables: homeworld &lt;chr&gt;, species &lt;chr&gt;, films &lt;list&gt;,
## #   vehicles &lt;list&gt;, starships &lt;list&gt;</code></pre>
<p>Alright, let’s unload our own function, so we can load it in another way, using:</p>
<div class="sourceCode" id="cb44"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb44-1"><a href="programming.html#cb44-1" tabindex="-1"></a>box<span class="sc">::</span><span class="fu">unload</span>(functions)</span></code></pre></div>
<p>Alternatively, you can specify a search path,
where <code>box</code> will look for modules.
I will put my box modules in <code>C:/Users/koen/documents/box_modules</code>.</p>
<p>The following code will allow box to look in that folder for modules:</p>
<div class="sourceCode" id="cb45"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb45-1"><a href="programming.html#cb45-1" tabindex="-1"></a><span class="fu">options</span>(<span class="st">&#39;box.path&#39;</span> <span class="ot">=</span> <span class="st">&quot;C:/Users/koen/documents/&quot;</span>) <span class="co"># &lt;-- the parent folder!!</span></span></code></pre></div>
<p>Note that I have used the parent folder of box_modules,
because for whatever reason you have to do that
(the .R files need to be in a subfolder).
By adding this to your <code>[.Rprofile](https://docs.posit.co/ide/user/ide/guide/environments/r/managing-r.html)</code> file,
it will be run any time you open R.</p>
<p>Now I can just use the following code in any project to access my functions:</p>
<div class="sourceCode" id="cb46"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb46-1"><a href="programming.html#cb46-1" tabindex="-1"></a>box<span class="sc">::</span><span class="fu">use</span>(box_modules<span class="sc">/</span>functions)</span>
<span id="cb46-2"><a href="programming.html#cb46-2" tabindex="-1"></a></span>
<span id="cb46-3"><a href="programming.html#cb46-3" tabindex="-1"></a>functions<span class="sc">$</span><span class="fu">prop_miss</span>(<span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="cn">NA</span>,<span class="dv">4</span>,<span class="dv">5</span>,<span class="cn">NA</span>))</span></code></pre></div>
<pre><code>## [1] 0.3333333</code></pre>
<p>Of course you are no longer working project-oriented:
your box modules aren’t in your project folder!</p>
<p>If you want to use box modules within your project folder,
best to add the root folder as search path:</p>
<div class="sourceCode" id="cb48"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb48-1"><a href="programming.html#cb48-1" tabindex="-1"></a><span class="fu">options</span>(<span class="st">&#39;box.path&#39;</span> <span class="ot">=</span> <span class="fu">c</span>(here<span class="sc">::</span><span class="fu">here</span>(), <span class="fu">getOption</span>(<span class="st">&#39;box.path&#39;</span>))</span></code></pre></div>
<p>The function <code>getOption('box.path')</code> gets your current box search path,
and <code>c()</code> combines it with your project root folder returned by <code>here()</code>.</p>
<p>One way I like to organize my box modules
is to have them in a git repository
and use it as a <a href="https://git-scm.com/book/en/v2/Git-Tools-Submodules">submodule</a> in my projects.
That way you can have a specific version or branch of all your box modules in every
project.
You can also merge changes you make to you box modules of one project,
back to all your other active projects.
It’s fantastic, but a bit finnicky to set up.</p>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="reproducible-workflows.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="declaredesign.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
  "sharing": {
    "github": false,
    "facebook": false,
    "twitter": false,
    "linkedin": false,
    "weibo": false,
    "instapaper": false,
    "vk": false,
    "whatsapp": false,
    "all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
  },
  "fontsettings": {
    "theme": "white",
    "family": "sans",
    "size": 2
  },
  "edit": {
    "link": "https://github.com/kleuveld/r_cheatsheet/edit/main/chapters/02-programming.Rmd",
    "text": "Edit"
  },
  "history": {
    "link": null,
    "text": null
  },
  "view": {
    "link": null,
    "text": null
  },
  "download": null,
  "search": {
    "engine": "fuse",
    "options": null
  },
  "toc": {
    "collapse": "section"
  }
});
});
</script>

</body>

</html>
